---
interface Props {
  title: string;
  date: Date;
  slug: string;
  tags?: string[];
  language?: string;
}

const { title, date, slug, tags = [], language = 'ja' } = Astro.props;

const formattedDate = date.toLocaleDateString('ja-JP', {
  year: 'numeric',
  month: '2-digit',
  day: '2-digit',
});
---

<li class="post-item" data-lang={language}>
  <a href={`/blog/${slug}/`}>
    <span class="post-title">{title}</span>
  </a>
  <div class="post-meta">
    <time datetime={date.toISOString()}>{formattedDate}</time>
    {tags.length > 0 && (
      <span class="post-tags">
        {tags.map((tag) => (
          <a class="tag" href={`/tags/${tag}/`}>{tag}</a>
        ))}
      </span>
    )}
  </div>
</li>
